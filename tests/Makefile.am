SUBDIRS = src

TESTS = \
	test-xserver-fail-start \
	test-greeter-fail-start \
	test-greeter-not-installed \
	test-greeter-xserver-crash \
	test-no-config \
	test-headless \
	test-autologin \
	test-autologin-invalid-user \
	test-autologin-invalid-session \
	test-crash-authenticate \
	test-autologin-xserver-crash \
	test-autologin-session-crash \
	test-autologin-password \
	test-autologin-new-authtok \
	test-pam \
	test-login-pam \
	test-denied \
	test-expired \
	test-cred-error \
	test-cred-expired \
	test-cred-unavail \
	test-autologin-session-error \
	test-autologin-logout \
	test-autologin-previous-session \
	test-autologin-guest \
	test-autologin-guest-fail-setup-script \
	test-autologin-guest-logout \
	test-group-membership \
	test-util-path \
	test-session-stdout \
	test-session-stderr \
	test-session-stderr-multi-write \
	test-session-stderr-backup \
	test-xauthority \
	test-system-xauthority \
	test-user-renamed \
	test-user-renamed-invalid \
	test-keyboard-layout \
	test-no-keyboard-layout \
	test-default-keyboard-layout \
	test-keyboard-variants \
	test-language \
	test-no-language \
	test-language-no-accounts-service \
	test-login-crash-authenticate \
	test-login-gobject \
	test-login-gobject-manual \
	test-login-gobject-manual-previous-session \
	test-login-gobject-no-password \
	test-login-gobject-long-username \
	test-login-gobject-long-password \
	test-login-gobject-two-factor \
	test-login-gobject-new-authtok \
	test-login-gobject-info-prompt \
	test-login-gobject-multi-info-prompt \
	test-login-gobject-pick-session \
	test-login-gobject-previous-session \
	test-login-gobject-wrong-password \
	test-login-gobject-invalid-user \
	test-login-gobject-invalid-session \
	test-login-gobject-logout \
	test-login-gobject-guest \
	test-login-gobject-guest-disabled \
	test-login-gobject-guest-no-setup-script \
	test-login-gobject-guest-fail-setup-script \
	test-login-gobject-guest-logout \
	test-login-python \
	test-login-python-manual \
	test-login-python-manual-previous-session \
	test-login-python-no-password \
	test-login-python-long-username \
	test-login-python-long-password \
	test-login-python-two-factor \
	test-login-python-new-authtok \
	test-login-python-info-prompt \
	test-login-python-multi-info-prompt \
	test-login-python-previous-session \
	test-login-python-wrong-password \
	test-login-python-invalid-user \
	test-login-python-invalid-session \
	test-login-python-logout \
	test-login-python-pick-session \
	test-login-python-guest \
	test-login-python-guest-disabled \
	test-login-python-guest-no-setup-script \
	test-login-python-guest-fail-setup-script \
	test-login-python-guest-logout \
	test-login-session-crash \
	test-login-xserver-crash \
	test-home-dir-on-authenticate \
	test-home-dir-on-session \
	test-plymouth-active-vt \
	test-plymouth-inactive-vt \
	test-plymouth-no-seat \
	test-script-hooks \
	test-script-hook-fail-display-setup \
	test-script-hook-fail-greeter-setup \
	test-script-hook-fail-session-setup \
    test-lock-seat \
    test-lock-session \
	test-switch-to-greeter \
	test-switch-to-guest \
	test-switch-to-user \
	test-switch-to-users \
	test-switch-to-user-existing-session \
	test-switch-to-user-no-password \
	test-switch-to-user-logout \
	test-vnc-login \
	test-xdmcp-login \
	test-no-accounts-service \
	test-console-kit \
	test-no-console-kit \
	test-open-file-descriptors \
	test-xdmcp-open-file-descriptors

#	test-session-exit-error
#	test-greeter-no-exit
#   test-gobject-change-password
#   test-qt-change-password
#   test-autologin-create-directory

if COMPILE_LIBLIGHTDM_QT
TESTS += \
	test-login-qt \
	test-login-qt-manual \
	test-login-qt-manual-previous-session \
	test-login-qt-no-password \
	test-login-qt-long-username \
	test-login-qt-long-password \
	test-login-qt-two-factor \
	test-login-qt-new-authtok \
	test-login-qt-info-prompt \
	test-login-qt-multi-info-prompt \
	test-login-qt-previous-session \
	test-login-qt-wrong-password \
	test-login-qt-invalid-user \
	test-login-qt-invalid-session \
	test-login-qt-logout \
	test-login-qt-pick-session \
	test-login-qt-guest \
	test-login-qt-guest-disabled \
	test-login-qt-guest-no-setup-script \
	test-login-qt-guest-fail-setup-script \
	test-login-qt-guest-logout
endif

EXTRA_DIST = \
	$(TESTS) \
	data/system.conf \
	data/session.conf \
	data/xgreeters/test-gobject-greeter.desktop \
	data/xgreeters/test-python-greeter.desktop \
	data/xgreeters/test-qt-greeter.desktop \
	data/xsessions/alternative.desktop \
	data/xsessions/default.desktop \
	scripts/autologin.conf \
	scripts/autologin-guest.conf \
	scripts/autologin-guest-fail-setup-script.conf \
	scripts/autologin-guest-logout.conf \
	scripts/autologin-invalid-session.conf \
	scripts/autologin-invalid-user.conf \
	scripts/autologin-logout.conf \
	scripts/autologin-new-authtok.conf \
	scripts/autologin-password.conf \
	scripts/autologin-previous-session.conf \
	scripts/autologin-session-crash.conf \
	scripts/autologin-session-error.conf \
	scripts/autologin-xserver-crash.conf \
	scripts/console-kit.conf \
	scripts/crash-authenticate.conf \
	scripts/cred-error.conf \
	scripts/cred-expired.conf \
	scripts/cred-unavail.conf \
	scripts/denied.conf \
	scripts/expired.conf \
	scripts/greeter-fail-start.conf \
	scripts/greeter-not-installed.conf \
	scripts/greeter-xserver-crash.conf \
	scripts/group-membership.conf \
	scripts/headless.conf \
	scripts/home-dir-on-authenticate.conf \
	scripts/home-dir-on-session.conf \
	scripts/keyboard-layout.conf \
	scripts/language.conf \
	scripts/language-no-accounts-service.conf \
	scripts/lock-seat.conf \
	scripts/lock-session.conf \
	scripts/login.conf \
	scripts/login-crash-authenticate.conf \
	scripts/login-guest.conf \
	scripts/login-guest-disabled.conf \
	scripts/login-guest-fail-setup-script.conf \
	scripts/login-guest-logout.conf \
	scripts/login-guest-no-setup-script.conf \
	scripts/login-info-prompt.conf \
	scripts/login-invalid-session.conf \
	scripts/login-invalid-user.conf \
	scripts/login-logout.conf \
	scripts/login-long-username.conf \
	scripts/login-long-password.conf \
	scripts/login-manual.conf \
	scripts/login-manual-previous-session.conf \
	scripts/login-multi-info-prompt.conf \
	scripts/login-new-authtok.conf \
	scripts/login-no-password.conf \
	scripts/login-pam.conf \
	scripts/login-pick-session.conf \
	scripts/login-previous-session.conf \
	scripts/login-two-factor.conf \
	scripts/login-session-crash.conf \
	scripts/login-wrong-password.conf \
	scripts/login-xserver-crash.conf \
	scripts/no-accounts-service.conf \
	scripts/no-config.conf \
	scripts/no-console-kit.conf \
	scripts/no-keyboard-layout.conf \
	scripts/no-language.conf \
	scripts/pam.conf \
	scripts/plymouth-active-vt.conf \
	scripts/plymouth-inactive-vt.conf \
	scripts/plymouth-no-seat.conf \
	scripts/script-hooks.conf \
	scripts/script-hook-fail-display-setup.conf \
	scripts/script-hook-fail-greeter-setup.conf \
	scripts/script-hook-fail-session-setup.conf \
	scripts/session-stdout.conf \
	scripts/session-stderr.conf \
	scripts/session-stderr-multi-write.conf \
	scripts/session-stderr-backup.conf \
	scripts/switch-to-greeter.conf \
	scripts/switch-to-guest.conf \
	scripts/switch-to-user.conf \
	scripts/switch-to-users.conf \
	scripts/switch-to-user-existing-session.conf \
	scripts/switch-to-user-logout.conf \
	scripts/switch-to-user-no-password.conf \
	scripts/system-xauthority.conf \
	scripts/util-path.conf \
	scripts/user-renamed.conf \
	scripts/user-renamed-invalid.conf \
	scripts/vnc-login.conf \
	scripts/xauthority.conf \
	scripts/xdmcp-login.conf \
	scripts/xserver-fail-start.conf
