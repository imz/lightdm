SUBDIRS = src

TESTS = \
	test-xserver-fail-start \
	test-greeter-fail-start \
	test-greeter-not-installed \
	test-greeter-xserver-crash \
	test-no-config \
	test-headless \
	test-autologin \
	test-autologin-invalid-user \
	test-autologin-invalid-session \
	test-autologin-xserver-crash \
	test-autologin-session-crash \
	test-autologin-logout \
	test-autologin-previous-session \
	test-autologin-guest \
	test-autologin-guest-fail-setup-script \
	test-autologin-guest-logout \
	test-login-gobject \
	test-login-gobject-manual \
	test-login-gobject-manual-previous-session \
	test-login-gobject-no-password \
	test-login-gobject-pick-session \
	test-login-gobject-previous-session \
	test-login-gobject-wrong-password \
	test-login-gobject-invalid-user \
	test-login-gobject-invalid-session \
	test-login-gobject-logout \
	test-login-gobject-guest \
	test-login-gobject-guest-disabled \
	test-login-gobject-guest-no-setup-script \
	test-login-gobject-guest-fail-setup-script \
	test-login-gobject-guest-logout \
	test-login-session-crash \
	test-login-xserver-crash \
	test-plymouth-active-vt \
	test-plymouth-inactive-vt \
	test-plymouth-no-seat \
	test-script-hooks \
	test-script-hook-fail-display-setup \
	test-script-hook-fail-greeter-setup \
	test-script-hook-fail-session-setup \
	test-switch-to-greeter \
	test-switch-to-guest \
	test-switch-to-user \
	test-vnc-login \
	test-xdmcp-login

#	test-autologin-session-exit-error
#	test-login-gobject-session-exit-error
#	test-login-qt-session-exit-error
#	test-greeter-no-exit

if COMPILE_LIBLIGHTDM_QT
TESTS += \
	test-login-qt \
	test-login-qt-manual \
	test-login-qt-manual-previous-session \
	test-login-qt-no-password \
	test-login-qt-previous-session \
	test-login-qt-wrong-password \
	test-login-qt-invalid-user \
	test-login-qt-invalid-session \
	test-login-qt-logout \
	test-login-qt-pick-session \
	test-login-qt-guest \
	test-login-qt-guest-disabled \
	test-login-qt-guest-no-setup-script \
	test-login-qt-guest-fail-setup-script \
	test-login-qt-guest-logout
endif

EXTRA_DIST = \
	$(TESTS) \
	data/xgreeters/test-gobject-greeter.desktop \
	data/xgreeters/test-qt-greeter.desktop \
	data/xsessions/alternative.desktop \
	data/xsessions/default.desktop \
	scripts/autologin.conf \
	scripts/autologin-guest.conf \
	scripts/autologin-guest-fail-setup-script.conf \
	scripts/autologin-guest-logout.conf \
	scripts/autologin-invalid-session.conf \
	scripts/autologin-invalid-user.conf \
	scripts/autologin-logout.conf \
	scripts/autologin-previous-session.conf \
	scripts/autologin-session-crash.conf \
	scripts/autologin-xserver-crash.conf \
	scripts/greeter-fail-start.conf \
	scripts/greeter-not-installed.conf \
	scripts/greeter-xserver-crash.conf \
	scripts/headless.conf \
	scripts/login.conf \
	scripts/login-guest.conf \
	scripts/login-guest-disabled.conf \
	scripts/login-guest-fail-setup-script.conf \
	scripts/login-guest-logout.conf \
	scripts/login-guest-no-setup-script.conf \
	scripts/login-invalid-session.conf \
	scripts/login-invalid-user.conf \
	scripts/login-logout.conf \
	scripts/login-manual.conf \
	scripts/login-manual-previous-session.conf \
	scripts/login-no-password.conf \
	scripts/login-pick-session.conf \
	scripts/login-previous-session.conf \
	scripts/login-session-crash.conf \
	scripts/login-wrong-password.conf \
	scripts/login-xserver-crash.conf \
	scripts/no-config.conf \
	scripts/plymouth-active-vt.conf \
	scripts/plymouth-inactive-vt.conf \
	scripts/plymouth-no-seat.conf \
	scripts/script-hooks.conf \
	scripts/script-hook-fail-display-setup.conf \
	scripts/script-hook-fail-greeter-setup.conf \
	scripts/script-hook-fail-session-setup.conf \
	scripts/switch-to-greeter.conf \
	scripts/switch-to-guest.conf \
	scripts/switch-to-user.conf \
	scripts/vnc-login.conf \
	scripts/xdmcp-login.conf \
	scripts/xserver-fail-start.conf
